{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Navbar from'./Navbar';import'../assets/css/Dashboard.css';import styles from'../assets/css/Auth.module.css';import ExpenseManagement from'./ExpenseManagement';import IncomeManagement from'./IncomeManagement';import BudgetAllocation from'./BudgetAllocation';import Reports from'./Reports';import Settings from'./Settings';import MyPocketAI from'./MyPocketAI';import{Routes,Route,Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const navigate=useNavigate();const[userData,setUserData]=useState(null);const[error,setError]=useState(\"\");const[loading,setLoading]=useState(true);// Track loading state\nuseEffect(()=>{const token=localStorage.getItem(\"token\");if(!token){navigate(\"/login\");}},[navigate]);useEffect(()=>{const fetchUserData=async()=>{setLoading(true);try{const token=localStorage.getItem(\"token\");const res=await axios.get(\"http://localhost:3001/api/auth/user-details\",{headers:{Authorization:`Bearer ${token}`}});setUserData(res.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to fetch user details.\");}finally{setLoading(false);}};fetchUserData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App-dashboard\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-sidebar\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"})// Show loading text while fetching data\n:userData?/*#__PURE__*/_jsxs(\"div\",{className:\"userdata\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",/*#__PURE__*/_jsx(\"span\",{children:userData.username})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{children:userData.email})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No user data available\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dashboard-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/ai-assistance\",children:\"\\uD83E\\uDD16 My Pocket AI\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/budget-allocation\",children:\"\\uD83D\\uDCCA Budget Allocation\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/expense-management\",children:\"\\uD83D\\uDCB0 Expense Management\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/income-management\",children:\"\\uD83D\\uDCC8 Income Management\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/reports\",children:\"\\uD83D\\uDCDC Reports & Insights\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/logout\",children:\"Logout\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-main\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Reports,{})}),/*#__PURE__*/_jsx(Route,{path:\"/expense-management\",element:/*#__PURE__*/_jsx(ExpenseManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/income-management\",element:/*#__PURE__*/_jsx(IncomeManagement,{})}),/*#__PURE__*/_jsx(Route,{path:\"/budget-allocation\",element:/*#__PURE__*/_jsx(BudgetAllocation,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(Reports,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ai-assistance\",element:/*#__PURE__*/_jsx(MyPocketAI,{})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{})})]})})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","Navbar","styles","ExpenseManagement","IncomeManagement","BudgetAllocation","Reports","Settings","MyPocketAI","Routes","Route","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","userData","setUserData","error","setError","loading","setLoading","token","localStorage","getItem","fetchUserData","res","get","headers","Authorization","data","err","_err$response","_err$response$data","response","message","className","children","username","email","to","path","element"],"sources":["/Users/abhinavtej/Desktop/MYPOCKET_AI/mypocketai-website/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Navbar from './Navbar';\nimport '../assets/css/Dashboard.css';\nimport styles from '../assets/css/Auth.module.css';\nimport ExpenseManagement from './ExpenseManagement';\nimport IncomeManagement from './IncomeManagement';\nimport BudgetAllocation from './BudgetAllocation';\nimport Reports from './Reports';\nimport Settings from './Settings';\nimport MyPocketAI from './MyPocketAI';\nimport { Routes, Route, Link, useNavigate } from 'react-router-dom';\n\nfunction Dashboard() {\n  const navigate = useNavigate();\n  const [userData, setUserData] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true); // Track loading state\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      setLoading(true);\n      try {\n        const token = localStorage.getItem(\"token\");\n  \n        const res = await axios.get(\"http://localhost:3001/api/auth/user-details\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n  \n        setUserData(res.data);\n      } catch (err) {\n        setError(err.response?.data?.message || \"Failed to fetch user details.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n  \n    fetchUserData();\n  }, []);\n\n  return (\n    <div className=\"App-dashboard\">\n      <Navbar />\n      <div className=\"dashboard-content\">\n        <div className=\"dashboard-sidebar\">\n          {error && <p className={styles.error}>{error}</p>}\n          {loading ? (\n            <p>Loading user data...</p> // Show loading text while fetching data\n          ) : userData ? (\n            <div className=\"userdata\">\n              <p>Username: <span>{userData.username}</span></p>\n              <p>Email: <span>{userData.email}</span></p>\n            </div>\n          ) : (\n            <p>No user data available</p>\n          )}\n\n          <ul className=\"dashboard-menu\">\n            <li><Link to=\"/dashboard/ai-assistance\">ðŸ¤– My Pocket AI</Link></li>\n            <li><Link to=\"/dashboard/budget-allocation\">ðŸ“Š Budget Allocation</Link></li>\n            <li><Link to=\"/dashboard/expense-management\">ðŸ’° Expense Management</Link></li>\n            <li><Link to=\"/dashboard/income-management\">ðŸ“ˆ Income Management</Link></li>\n            <li><Link to=\"/dashboard/reports\">ðŸ“œ Reports & Insights</Link></li>\n            <li><Link to=\"/logout\">Logout</Link></li>\n          </ul>\n        </div>\n\n        <div className=\"dashboard-main\">\n          <Routes>\n            <Route path=\"/\" element={<Reports />} />\n            <Route path=\"/expense-management\" element={<ExpenseManagement />} />\n            <Route path=\"/income-management\" element={<IncomeManagement />} />\n            <Route path=\"/budget-allocation\" element={<BudgetAllocation />} />\n            <Route path=\"/reports\" element={<Reports />} />\n            <Route path=\"/ai-assistance\" element={<MyPocketAI />} />\n            <Route path=\"/settings\" element={<Settings />} />\n          </Routes>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}